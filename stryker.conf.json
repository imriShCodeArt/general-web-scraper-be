{
  "$schema": "https://raw.githubusercontent.com/stryker-mutator/stryker-js/master/packages/core/schema/stryker-core.json",
  "packageManager": "npm",
  "reporters": ["html", "clear-text", "progress", "json"],
  "testRunner": "jest",
  "coverageAnalysis": "perTest",
  "mutate": [
    "src/lib/csv-generator.ts",
    "src/lib/normalization.ts",
    "src/lib/scraping-service.ts",
    "src/lib/generic-adapter.ts",
    "src/lib/recipe-manager.ts"
  ],
  "jest": {
    "config": {
      "preset": "ts-jest",
      "testEnvironment": "node",
      "globals": {
        "ts-jest": {
          "tsconfig": "tsconfig.jest.json"
        }
      },
      "roots": ["<rootDir>/src"],
      "testMatch": [
        "**/__tests__/**/*.ts",
        "**/?(*.)+(spec|test).ts"
      ],
      "collectCoverageFrom": [
        "src/**/*.ts",
        "!src/**/*.d.ts",
        "!src/**/*.test.ts",
        "!src/**/*.spec.ts",
        "!src/index.ts",
        "!src/server.ts",
        "!src/app/api/health/route.ts"
      ],
      "coverageDirectory": "coverage",
      "coverageReporters": ["text", "lcov", "html"],
      "setupFilesAfterEnv": ["<rootDir>/src/test/setup.ts"],
      "testTimeout": 30000,
      "verbose": true,
      "clearMocks": true,
      "restoreMocks": true
    }
  },
  "thresholds": {
    "high": 70,
    "break": 50
  },
  "timeoutMS": 120000,
  "concurrency": 4,
  "logLevel": "info",
  "fileLogLevel": "warn",
  "ignoreStatic": true,
  "ignorePatterns": [
    "**/node_modules/**",
    "**/coverage/**",
    "**/dist/**",
    "**/.stryker-tmp/**"
  ]
}
