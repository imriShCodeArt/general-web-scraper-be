name: "Performance Optimized"
description: "High-performance recipe optimized for maximum scraping speed"
version: "2.0.0"
siteUrl: "*"

selectors:
  # Core product fields - optimized for speed
  title: 
    - "h1.product-title"
    - "h1.product-name"
    - ".product-title"
    - ".product-name"
    - "h1"
  
  price:
    - ".product-price .price"
    - ".price .amount"
    - ".product-price"
    - ".price"
    - "[data-price]"
  
  sku:
    - ".product-sku"
    - ".sku"
    - "[data-sku]"
    - ".product-code"
  
  description:
    - ".product-description"
    - ".description"
    - ".product-details"
    - "#description"
  
  shortDescription:
    - ".product-summary"
    - ".short-description"
    - ".excerpt"
  
  images:
    - ".product-gallery img"
    - ".product-images img"
    - ".gallery img"
    - ".product-photos img"
  
  stock:
    - ".stock-status"
    - ".availability"
    - ".in-stock"
    - ".out-of-stock"
  
  category:
    - ".breadcrumb"
    - ".category"
    - ".product-category"
  
  # Product discovery - optimized selectors
  productLinks:
    - ".product-item a"
    - ".product-card a"
    - ".product a"
    - "a[href*='/product/']"
    - "a[href*='/item/']"
  
  # Pagination - limited for speed
  pagination:
    nextPage: ".pagination .next"
    maxPages: 20  # Reduced from 50 for faster processing
  
  # Attributes and variations - minimal for speed
  attributes:
    - ".product-options"
    - ".product-attributes"
    - ".variations"
    - ".options"
  
  variations:
    - ".product-variants"
    - ".variants"
    - ".product-options select"
  
  # Embedded data sources - prioritize for speed
  embeddedJson:
    - "script[type='application/ld+json']"
    - "script[data-json]"
    - "#__NEXT_DATA__"

transforms:
  title:
    - "trim: "
    - "replace:^\\s+|\\s+$"
  
  price:
    - "replace:[^\\d.,]"
    - "replace:,|."
  
  description:
    - "trim: \n\t"
    - "replace:\\s+ | "
    - "limit:500"  # Limit description length for speed
  
  attributes:
    Color:
      - "replace:^\\s+|\\s+$"
      - "replace:^\\s*-\\s*"
    Size:
      - "replace:^\\s+|\\s+$"
      - "replace:^\\s*-\\s*"

behavior:
  waitForSelectors:
    - ".product-title"
    - ".product-price"
  scrollToLoad: false
  useHeadlessBrowser: false
  rateLimit: 10  # Ultra-fast: only 10ms between requests
  maxConcurrent: 20  # High concurrency for maximum speed
  # Performance optimizations
  fastMode: true  # Enable fast mode for maximum performance
  skipImages: false  # Keep images but limit to 3
  skipStyles: true  # Skip CSS for faster processing
  skipScripts: true  # Skip non-essential JavaScript
  timeout: 8000  # Reduced timeout for faster failure detection
  retryAttempts: 1  # Minimal retries for speed
  retryDelay: 100  # Quick retry delay

fallbacks:
  title:
    - "h1"
    - ".title"
  price:
    - ".price"
    - "[data-price]"
  images:
    - "img[src*='product']"
    - "img"

validation:
  requiredFields:
    - "title"
    - "price"
  priceFormat: "\\d+(\\.\\d{2})?"
  skuFormat: "[A-Za-z0-9-_]+"
  minDescriptionLength: 10  # Reduced for speed
  maxTitleLength: 200  # Limited for speed
